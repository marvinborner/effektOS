import x86/commands

val PORT = 1016

def putChar(ch: Char) = outb(PORT, ch.toInt.toByte)

def init() = {
	outb(PORT + 1, 0.toByte)
	outb(PORT + 3, 128.toByte)
	outb(PORT + 0, 3.toByte)
	outb(PORT + 1, 0.toByte)
	outb(PORT + 3, 3.toByte)
	outb(PORT + 2, 199.toByte)

	// Test serial chip
	outb(PORT + 4, 30.toByte) // Enable loopback
	outb(PORT + 0, 174.toByte) // Write

	// Activate
	outb(PORT + 4, 15.toByte)
}
