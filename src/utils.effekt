def looping { prog: => Unit }: Nothing = {
  def go(): Nothing = {
    prog()
    go()
  }
  go()
}

def nothing { prog: => Unit }: Nothing = {
  prog()
  <>
}

def emit[A] { f: A => Unit } { prog: => Unit / emit[A] }: Unit = {
  try prog()
  with emit[A] { v => resume(f(v)) }
}